<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>TGD Verse</title>
    <link href="https://cdn.jsdelivr.net/npm/tailwindcss@2.2.19/dist/tailwind.min.css" rel="stylesheet">
    <link rel="stylesheet" href="../../assets/css/dirac_propagator_style.css">
    <!-- <link rel="stylesheet" href="../../assets/css/index.css"> --> <!-- Commented out to isolate potential CSS issues -->
    
    <!-- Enhanced MathJax Configuration and Loading -->
    <script>
        window.MathJax = {
            tex: {
                inlineMath: [['$', '$'], ['\\(', '\\)']],
                displayMath: [['$$', '$$'], ['\\[', '\\]']],
                processEscapes: true,
                tags: 'ams',
                packages: {'[+]': ['ams']},
                macros: {}
            },
            loader: {
                load: ['[tex]/ams']
            },
            svg: {
                fontCache: 'global'
            },
            startup: {
                ready: () => {
                    console.log('MathJax startup ready');
                    MathJax.startup.defaultReady();
                    // Signal that MathJax is ready for content loading
                    window.mathJaxReady = true;
                    // Dispatch custom event for content loading
                    window.dispatchEvent(new Event('mathjax-ready'));
                }
            }
        };
    </script>
    <script id="MathJax-script" async src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
    <script type="module" src="../../assets/js/globalEquationExplainer.js" defer></script>
</head>
<body class="bg-gray-100 text-gray-800 flex flex-col min-h-screen">
    <header class="bg-blue-600 text-white p-4 shadow-md">
        <div class="container mx-auto flex justify-between items-center">
            <h1 class="text-2xl font-bold">TGD Verse</h1>
            <div class="flex items-center space-x-4">
                <!-- Back to Research Pages Link -->
                <a href="/pages" class="bg-blue-500 hover:bg-blue-700 text-white font-bold py-2 px-4 rounded flex items-center space-x-2 transition-colors duration-200">
                    <svg class="w-4 h-4" fill="currentColor" viewBox="0 0 20 20">
                        <path fillRule="evenodd" d="M9.707 16.707a1 1 0 01-1.414 0l-6-6a1 1 0 010-1.414l6-6a1 1 0 011.414 1.414L5.414 9H17a1 1 0 110 2H5.414l4.293 4.293a1 1 0 010 1.414z" clipRule="evenodd"/>
                    </svg>
                    <span>Back to Research</span>
                </a>
                <div id="font-controls" class="flex items-center">
                    <span class="mr-2">Font size:</span>
                    <button id="decrease-font" class="bg-blue-500 hover:bg-blue-700 text-white font-bold py-1 px-2 rounded-l">-A</button>
                    <button id="increase-font" class="bg-blue-500 hover:bg-blue-700 text-white font-bold py-1 px-2 rounded-r">+A</button>
                </div>
            </div>
        </div>
    </header>

    <div class="container mx-auto flex flex-grow mt-4">
        <aside class="w-1/4 p-4 hidden lg:block sticky top-0 max-h-screen overflow-y-auto">
            <h2 class="text-xl font-semibold mb-2">Table of Contents</h2>
            <ul id="toc-list" class="space-y-1"></ul> <!-- Cleared static links, JS will populate this -->
        </aside>
        <main id="article-content" class="w-full lg:w-3/4 bg-white p-6 sm:p-8 md:p-10 rounded-lg shadow-xl academic-content">
            <header class="mb-12 border-b pb-6">
                <h1 class="text-3xl sm:text-4xl font-bold text-center text-gray-800 leading-tight">About the structure of Dirac propagator in TGD</h1>
                <div class="text-center mt-4 text-gray-700">
                    <p class="font-semibold">Matti Pitk√§nen</p>
                    <p>Email: <a href="mailto:matpitka6@gmail.com" class="text-sky-600 hover:text-sky-700 underline">matpitka6@gmail.com</a></p>
                    <p>ORCID: <a href="https://orcid.org/0000-0002-8051-4364" target="_blank" class="text-sky-600 hover:text-sky-700 underline">0000-0002-8051-4364</a></p>
                    <p>URL: <a href="http://tgdtheory.com/public_html/" target="_blank" class="text-sky-600 hover:text-sky-700 underline">http://tgdtheory.com/public_html/</a></p>
                    <p>Rinnekatu 2-4 A 8, 03620, Karkkila, Finland</p>
                    <p class="mt-2">May 21, 2025</p>
                </div>
            </header>

            <!-- Content sections will be loaded here -->
            <div id="abstract-container"></div>
            <div id="introduction-sec-container"></div>
            <div id="how-propagation-takes-place-container"></div>
            <div id="model-for-4d-propagation-sec-container"></div>
            <div id="foundational-questions-container"></div>
            <div id="appendix-a-container"></div>
            <div id="acknowledgements-container"></div>
            <div id="references-container"></div>
            <div id="equationExplanationModal" class="modal-overlay hidden">
            <div class="modal-content max-w-2xl">
                <div class="modal-header">
                <h3 id="equationExplanationModalTitle" class="modal-title">Equation Explanation</h3>
                <button id="closeEquationExplanationModalButton" class="modal-close-button" aria-label="Close explanation modal">&times;</button>
                </div>
                <div id="equationExplanationModalBody" class="modal-body">
                <p>Loading explanation...</p>
                </div>
            </div>
            </div>
        </main>
    </div>
    <script type="module" src="../../assets/js/dirac_propagator_main.js"></script>


</body>
</html>
